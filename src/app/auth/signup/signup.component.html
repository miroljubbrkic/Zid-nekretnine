<mat-card class="signup-card">
  <mat-card-header>
    <mat-card-title>
      <h1>Registracija</h1> <!-- Add the h1 heading for signup -->
    </mat-card-title>
  </mat-card-header>

  <mat-spinner *ngIf="isLoading"></mat-spinner>
  <form (submit)="onSignup(signupForm)" #signupForm="ngForm" *ngIf="!isLoading">
    
    <mat-form-field>
      <mat-icon matPrefix>email</mat-icon>
      <input 
        matInput 
        name="email"
        type="email"
        placeholder="E-Mail"
        ngModel
        #emailInput="ngModel"
        required
        email>
      <mat-error *ngIf="emailInput.invalid && emailInput.touched">Unesite ispravan email</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-icon matPrefix>lock</mat-icon>
      <input 
        matInput
        name="lozinka"
        type="password"
        placeholder="Lozinka"
        ngModel
        #lozinkaInput="ngModel"
        required>
      <mat-error *ngIf="lozinkaInput.invalid && lozinkaInput.touched">Unesite lozinku</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-icon matPrefix>person</mat-icon>
      <input 
        matInput
        name="ime"
        type="text"
        placeholder="Ime"
        ngModel
        #imeInput="ngModel"
        required>
      <mat-error *ngIf="imeInput.invalid && imeInput.touched">Unesite ime</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-icon matPrefix>person</mat-icon>
      <input 
        matInput
        name="prezime"
        type="text"
        placeholder="Prezime"
        ngModel
        #prezimeInput="ngModel"
        required>
      <mat-error *ngIf="prezimeInput.invalid && prezimeInput.touched">Unesite prezime</mat-error>
    </mat-form-field>

    <!-- Phone Number Field -->
    <mat-form-field>
      <mat-icon matPrefix>phone</mat-icon>
      <input 
        matInput
        name="telefon"
        type="tel"
        placeholder="Telefon"
        ngModel
        #telefonInput="ngModel"
        required
        pattern="^(?:\\+381|0)(6[0-689]|1[0-9])[0-9]{6,7}$">
      <mat-error *ngIf="telefonInput.invalid && telefonInput.touched">
        Unesite validan broj telefona u formatu +381641234567 ili 0641234567
      </mat-error>
    </mat-form-field>

    <!-- Button Container -->

      <button 
        mat-raised-button 
        color="accent"
        type="submit"
        class="signup-button"
        *ngIf="!isLoading"
        [disabled]="signupForm.invalid">Registruj se</button>

      <!-- <button
        mat-raised-button
        color="primary"
        type="button"
        (click)="test()">
        Test data
      </button> -->
  </form>
</mat-card>
